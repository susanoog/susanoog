
# 中間報告まとめ

2018.08.19
Hiroki SHIROKURA

## 技術的なこと

- スレッド最適化 (Pipeline)
- DPI DPDK
- リソースを無駄に割り当てないだけ
- RunTimeかプログラミングモデルか

## ターゲット設定

戦うフィールドをどう設定するかを考えなさい.

実装すべき具体的内容
- シングルユーザの使うMultiFunctionのNFVi(NFは用意済み)
- Router DPI
- Router LB
- Router VXLAN
- Router x4 (VRRP?) 単一マシン上でルータ接続状態

Routerだけでは足りない
- softwareたるもの、より柔軟でなくては
- flowコントロールができてほしい
- L2処理は複雑ではない

Amazon CPUの割り当て
- CPU数1つ -> ザコいCPU数Nつ
- 多くのユーザはCPUを使い切らない

知識レベル問題点
- コアネットワークとはなにか
- ふわっとしている
- ユースケースをしっかり2+1パターン

従業員数1-10万人企業向けNFVi


## コストに対しての問題

- Juniperの同じレベルのグレードの調査
- Ciscoの同じレベルのグレードの調査
- DPDK Routerの同じレベルのグレードの調査


## 信頼性についての問題

- 故障検知
- N+1構成は考えているか
- ルータの故障の仕方はどれくらいあるのか
- 中途半端に死ぬ
- 実際に投入する場合はNFの動作監視をできるようにする必要がある
- DC屋さんにききに行け


## 話のすすめかた

- NFVから進める
- Ringがどう増えていくのか
- スレッドランチはどこまで簡単なのか
- 基盤はどこまでRingやデータフローをかんがえてくれるのか


## FBコメントの列挙

中山ところてん (NTT研究所,故障検知の人)
- これ、ハードウェア故障に対してはどう対応するんだろう？
  例えばNICポートが中途半端に片方死んだ場合とか。

尾崎 嘉彦 (sigboost)
- 質疑でNFVを上手く説明できないと言っていたけれど，
  少なくとも自分の発表の中での一貫した定義みたいなものは
	持つ方が良い．
- 上記に併せてだけれど，DPDK，VNF，NFVなどの用語は既知とせずに，
  ある程度概要の説明を導入に入れると良いのではないか．

中園 翔 (NTT SIC 分散処理基盤技術)
- NICのリングバッファに対するスレッドの割当のところ，
  課題があると言っていたけど，NUMAになるともっと複雑になるので，
 	一気に両方解決できるとよさそう．


## その他議論から

- 自由度が高すぎるのは必ずしも良いとは限らない

Runtime定義
- プログラムとかを動かすとき（実行時）のこと。
- プログラムとかを動かすときに必要な部品のこと

- PJのためにはPivotせよ, PMと相談せよ
- SDNの最初はRouterのIFを統一
- 高速トレードというのもあるが... JUNOS上とかすらある
- Click Moduler Router
- [理論はあるけど実装はない]ということば


## 調べる内容

- Routerの故障のしかた
	- どんなパターンがあるのか
	- どんな頻度でおきるのか
	- どうやって問題解決をするのか
- Juniper, Cisco Routerについて
	- 価格 (10GbEx4, 40GbEx4とか)
	- どれくらい性能がでるのか
- コアNW, アクセスNWはどのようなレベルなのか
	- コアNW
	- アクセスNW
- 「1/10の価格で8/10の性能を出せます?」
- SDN/NFVの定義と説明 (とは/利点/欠点)




